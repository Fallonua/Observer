<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Rectangle?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="observer.MainController"
      spacing="12"
      alignment="TOP_CENTER">
    <padding>
        <Insets top="12" right="12" bottom="12" left="12"/>
    </padding>
    <children>
        <!-- Панель сервера времени -->
        <HBox spacing="10" alignment="CENTER_LEFT"
              style="-fx-border-color: gray; -fx-border-width: 1; -fx-background-color: #f0f0f0;">
            <padding>
                <Insets top="8" right="8" bottom="8" left="8"/>
            </padding>
            <children>
                <Label text="Сервер времени:"/>
                <Button text="Запуск" fx:id="startServerBtn" onAction="#onStartServer"/>
                <Button text="Выключение" fx:id="stopServerBtn" onAction="#onStopServer"/>
                <Label fx:id="serverStatusLabel" text="Неактивен"/>
            </children>
        </HBox>

        <!-- Панель компонента 1 -->
        <VBox spacing="6" style="-fx-border-color: gray; -fx-border-width: 1; -fx-background-color: #e8f4f8;">
            <padding>
                <Insets top="8" right="8" bottom="8" left="8"/>
            </padding>
            <children>
                <Label text="Компонент 1 — отображение времени"/>
                <HBox spacing="15" alignment="CENTER_LEFT">
                    <children>
                        <Label fx:id="timeLabel" text="прошло 0 с" style="-fx-font-size: 16px;"/>
                        <Circle radius="12" fill="#ADD8E6" stroke="#00008B"/>
                    </children>
                </HBox>
            </children>
        </VBox>

        <!-- Панель компонента 2 -->
        <VBox spacing="6" style="-fx-border-color: gray; -fx-border-width: 1; -fx-background-color: #f8f0e8;">
            <padding>
                <Insets top="8" right="8" bottom="8" left="8"/>
            </padding>
            <children>
                <Label text="Компонент 2 — музыкальный клип"/>
                <HBox spacing="15" alignment="CENTER_LEFT">
                    <children>
                        <Rectangle width="40" height="40" fill="#FFA500" stroke="#FF8C00"/>
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <children>
                                <Label text="Задержка (с):"/>
                                <Spinner fx:id="delaySpinner" editable="true"/>
                                <Button text="Запуск воспроизведения" fx:id="startClipBtn" onAction="#onStartClip"/>
                                <Button text="Остановить" fx:id="stopClipBtn" onAction="#onStopClip"/>
                                <Label fx:id="componentTwoStatusLabel" text="Не играет"/>
                            </children>
                        </HBox>
                    </children>
                </HBox>
            </children>
        </VBox>

        <!-- Панель компонента 3 -->
        <VBox spacing="6" style="-fx-border-color: gray; -fx-border-width: 1; -fx-background-color: #f0f8e8;">
            <padding>
                <Insets top="8" right="8" bottom="8" left="8"/>
            </padding>
            <children>
                <Label text="Компонент 3 — анимация (смена направления и цвета)"/>
                <StackPane minWidth="200" minHeight="60" alignment="CENTER_LEFT">
                    <Circle fx:id="animCircle" radius="25" fill="#008000" stroke="#006400"/>
                </StackPane>
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <children>
                        <Label text="Период (с):"/>
                        <Spinner fx:id="periodSpinner" editable="true"/>
                        <Button text="Запуск анимации" fx:id="startAnimBtn" onAction="#onStartAnimation"/>
                        <Button text="Остановить анимацию" fx:id="stopAnimBtn" onAction="#onStopAnimation"/>
                    </children>
                </HBox>
            </children>
        </VBox>
    </children>
</VBox>
